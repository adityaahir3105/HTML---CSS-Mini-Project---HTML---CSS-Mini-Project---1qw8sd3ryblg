<!DOCTYPE HTML>
<html>
	<head>
	<meta charset="utf-8">
	<meta http-equiv="X-UA-Compatible" content="IE=edge">
	<title>Aditya Ahir</title>
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<meta name="description" content="" />
	<meta name="keywords" content="" />
	<meta name="author" content="" />

  <!-- Facebook and Twitter integration -->
	<meta property="og:title" content=""/>
	<meta property="og:image" content=""/>
	<meta property="og:url" content=""/>
	<meta property="og:site_name" content=""/>
	<meta property="og:description" content=""/>
	<meta name="twitter:title" content="" />
	<meta name="twitter:image" content="" />
	<meta name="twitter:url" content="" />
	<meta name="twitter:card" content="" />

	<!-- Place favicon.ico and apple-touch-icon.png in the root directory -->
	<link rel="shortcut icon" href="favicon.ico">

	<link href="https://fonts.googleapis.com/css?family=Karla:400,700" rel="stylesheet">
	<link href="https://fonts.googleapis.com/css?family=Playfair+Display:400,400i,700" rel="stylesheet">
	
	<!-- Animate.css -->
	<link rel="stylesheet" href="css/animate.css">
	<!-- Icomoon Icon Fonts-->
	<link rel="stylesheet" href="css/icomoon.css">
	<!-- Bootstrap  -->
	<link rel="stylesheet" href="css/bootstrap.css">
	<!-- Owl Carousel -->
	<link rel="stylesheet" href="css/owl.carousel.min.css">
	<link rel="stylesheet" href="css/owl.theme.default.min.css">
	<!-- Magnific Popup -->
	<link rel="stylesheet" href="css/magnific-popup.css">

	<link rel="stylesheet" href="css/style.css">


	<!-- Modernizr JS -->
	<script src="js/modernizr-2.6.2.min.js"></script>
	<!-- FOR IE9 below -->
	<!--[if lt IE 9]>
	<script src="js/respond.min.js"></script>
	<![endif]-->

	</head>
	<body>

	<nav id="colorlib-main-nav" role="navigation">
		<a href="#" class="js-colorlib-nav-toggle colorlib-nav-toggle active"><i></i></a>
		<div class="js-fullheight colorlib-table">
			<div class="colorlib-table-cell js-fullheight">
				<div class="row">
					<div class="col-md-12">
						<div class="form-group">
							<input type="text" class="form-control" id="search" placeholder="Enter any key to search...">
							<button type="submit" class="btn btn-primary"><i class="icon-search3"></i></button>
						</div>
					</div>
				</div>
				<div class="row">
					<div class="col-md-12">
						<ul>
							<li><a href="index.html">Home</a></li>
							<li><a href="services.html">Services</a></li>
							<li class="active"><a href="work.html">Work</a></li>
							<li><a href="about.html">About</a></li>
							<li><a href="contact.html">Contact</a></li>
						</ul>
					</div>
				</div>
				<div class="row">
					<div class="col-md-12">
						<h2 class="head-title">Works</h2>
						<a href="images/work-1.jpg" class="gallery image-popup-link text-center" style="background-image: url(images/work-1.jpg);">
							<span><i class="icon-search3"></i></span>
						</a>
						<a href="images/work-2.jpg" class="gallery image-popup-link text-center" style="background-image: url(images/work-2.jpg);">
							<span><i class="icon-search3"></i></span>
						</a>
						<a href="images/work-3.jpg" class="gallery image-popup-link text-center" style="background-image: url(images/work-3.jpg);">
							<span><i class="icon-search3"></i></span>
						</a>
						<a href="images/work-4.jpg" class="gallery image-popup-link text-center" style="background-image: url(images/work-4.jpg);">
							<span><i class="icon-search3"></i></span>
						</a>
					</div>
				</div>
			</div>
		</div>
	</nav>
	
	<div id="colorlib-page">
		<header>
			<div class="container">
				<div class="row">
					<div class="col-md-12">
						<a href="#" class="js-colorlib-nav-toggle colorlib-nav-toggle"><i></i></a>
					</div>
				</div>
			</div>
		</header>
		<div id="colorlib-work">
			<div class="container">
				<div class="row text-center">
					<h2 class="bold">Works</h2>
				</div>
				<div class="row">
					<div class="col-md-12 col-md-offset-0 text-center animate-box intro-heading">
						<span>Porject</span>
						<h2>Modbus Network</h2>
					</div>
				</div>
				<div class="row">
					<div class="col-md-12">
						<div class="rotate">
							<h2 class="heading">Project</h2>
						</div>
					</div>
				</div>
				<div class="row">
					<div class="col-md-12">
						<div class="work-entry animate-box">
							<a href="work.html" class="work-img" style="background-image: url(images/work-5.jpg);">
							</a>
							<div class="col-md-8 col-md-offset-2">
								<div class="desc">
									<h2>Introduction</h2>
									<p>
										Modbus is an industrial protocol standard that was created by Modicon,now Schneider Electric, in the late 1970’s for communication among programmable logic controllers(PLCs). Modbus remains the most widely available protocol for connecting industrial devices.The Modbus protocol specification is openly published and use of the protocol is royalty-free.
										Modbus protocol is defined as a master/slave protocol,meaning a device operating as a master will poll one or more devices operating as a slave. This means a slave device cannot volunteer information; it must wait to be asked for it.The master will write data to a slave device’s registers, and read data from a slave device’s registers. A register address or register reference is always in the context of the slave’s registers.
										The most commonly used form of Modbus protocol is RTU over RS-485. Modbus RTU is a relatively simple serial protocol that can be transmitted via traditional UART technology. Data is transmitted in 8bit bytes, one bit at a time, at baud rates ranging from 1200 bits per second (baud) to 115200 bits per second. The majority of Modbus RTU devices only support speeds up to 38400 bits per second.

									</p>
									<p>
										Modbus serial protocol (the original version) is a master/slave protocol, e.g. one master that controls the
										iModbus data transactions with multiple slaves that respond to the master’s requests to read from or write
										idata to the slaves. Modbus TCP, also known as Modbus TCP/IP, uses a client/server architecture. These network architectures are shown Figure
									</p>
									<p>
										In a standard Modbus serial network, there is one master and as many as 247 slaves, each with a unique slave address. Modbus TCP is typically implemented on an Ethernet network, and data transactions from a Modbus client are directed toward a Modbus server via an IP address.
									</p>
									<p>
										Modbus comes in several varieties including Serial RTU, Serial ASCII, TCP/IP and UDP/IP. Modbus dialects, such as Enron, Daniel and Pemex Modbus, have arisen due to people modifying standard Modbus to handle floating-point data, long-integer data, and other data requirements. Reading the Modbus interface and slave documentation is key to understanding and implementing these types of Modbus networks and to mixing different manufacturer’s devices in the same Modbus network, which should be carefully done.
									</p>
									<h2>
										Visualizing Data in the Modbus Device
									</h2>
									<p>
										Modbus slave devices can be visualized as having an internal spread sheet filled with numbers. The Modbus master will ask a slave for its data value or number found in a given row and column, and the slave will respond by sending that piece of data back to the master. Of course, this process can be reversed with the Modbus master telling the slave what number to put into its data table at a given row and column.
										The "columns" in a Modbus device's "spread sheet" are more formally known as register types. Register type may be a coil, a discrete input (aka status input), an input register, or a holding register.
										The "rows" in a Modbus device's "spread sheet" are simply the register number. Most often, these start at 1 and count up sequentially. Some devices might not have a register 1, and their first register may be number 100 for example. If the register number does not exist in the slave device, it will send back an "oops" message properly known as an exception. The exception provides an error code that says "no such register" (exception code 2, illegal data address).[3]
										Table 1 Shows 4 Register types Coils, a discreate nputs, nput Registers, Holding Registers.
									</p>
									<img class="img-responsive" src="images/modbus.jpg" alt="html5 bootstrap template by colorlib.com"><br>
									<h2>What is Modbus TCP? </h2>
									<p>
										Modbus TCP encapsulates Modbus RTU request and response data packets in a TCP packet transmitted over standard Ethernet networks. The unit number is still included and its interpretation varies by application – the unit or slave address is not the primary means of addressing in TCP. The address of most importance here is the IP address, e.g. 192.168.1.100. The standard port for Modbus TCP is 502, but port number can often be reassigned if desired.
										The checksum field normally found at the end of an RTU packet is omitted from the TCP packet. Checksum and error handling are handled by Ethernet in the case of Modbus TCP.
										The TCP version of Modbus follows the OSI Network Reference Model. Modbus TCP defines the presentation and application layers in the OSI model.
										Modbus TCP makes the definition of master and slave less obvious because Ethernet allows peer to peer communication. The definition of client and server are better known entities in Ethernet based networking. In this context, the slave becomes the server and the master becomes the client. There can be more than one client obtaining data from a server. In Modbus terms, this means there can be multiple masters as well as multiple slaves. Rather than defining master and slave on a physical device by device basis, it now becomes the system designer’s responsibility to create logical associations between master and slave functionality.[3]
									</p>
									<h2>What is Modbus ASCII? </h2>
									<p>Modbus ASCII is an older implementation that contains all of the elements of an RTU packet, but expressed entirely in printable ASCII characters. Modbus ASCII is considered deprecated, is rarely used any more, and is not included in the formal Modbus protocol specification.</p>
									<p>The types of registers referenced in Modbus devices include the following: </p>
									<p>•coil (Discrete Output) </p>
									<p>•Discrete Input (or Status Input) </p>
									<p>•Input Register </p>
									<p>•Holding Register </p>
									<p>
										Whether a particular device includes all of these register types is up to the manufacturer. It is very common to find all I/O mapped to holding registers only. Coils are 1-bit registers, are used to control discrete outputs, and may be read or written. Discrete Inputs are 1-bit registers used as inputs, and may only be read. Input registers are 16-bit registers used for input, and may only be read. Holding registers are the most universal 16-bit register, may be read or written, and may be used for a variety of things including inputs, outputs, configuration data, or any requirement for "holding" data.
										Control Solutions gateways will support all register types when the gateway is the master, or when operating in direct mode (Babel Buster SP-GW). Control Solutions gateways that connect a non-Modbus device to a Modbus network will in some cases use only holding registers to represent the non-Modbus device data.
										Most Control Solutions I/O devices use holding registers for all types of inputs and outputs. In most cases, the same I/O is accessible as other register types as well, with the I/O status or value being mirrored in multiple registers.
									</p>
									<h2>Review of Modbus Function Codes </h2>
									<p>Modbus protocol defines several function codes for accessing Modbus registers. There are four different data blocks defined by Modbus, and the addresses or register numbers n each of those overlap. Therefore, a complete definition of where to find a piece of data requires both the address (or register number) and function code (or register type). </p>
									<p>The function codes most commonly recognized by Modbus devices are indicated in the table below. This is only a subset of the codes available - several of the codes have special applications that most often do not apply.</p>
									<img class="img-responsive" src="images/modbus1.jpg" alt="html5 bootstrap template by colorlib.com"><br>
									<h2>Review of Modbus Exception (error) Codes </h2>
									<p>When a Modbus slave recognizes a packet, but determines that there s an error n the request, t will return an exception code reply instead of a data reply. The exception reply consists of the slave address or unit number, a copy of the function code with the high bit set, and an exception code. f the function code was 3, for example, the function code n the exception reply will be 0x83. The exception codes will be one of the following:</p>
									<img class="img-responsive" src="images/modbus2.jpg" alt="html5 bootstrap template by colorlib.com"><br>
									<h2>Details Of Tools and Technologies Used</h2>
									<p>1. max485 ttl to rs485 converter module</p>
									<img class="img-responsive" src="images/modbus3.jpg" alt="html5 bootstrap template by colorlib.com"><br>
									<p>2. Arduino uno </p>
									<img class="img-responsive" src="images/modbus4.jpg" alt="html5 bootstrap template by colorlib.com"><br>
									<p>3. Arduino Mega </p>
									<img class="img-responsive" src="images/modbus5.jpg" alt="html5 bootstrap template by colorlib.com"><br>
									<p>4. ESP8266  </p>
									<img class="img-responsive" src="images/modbus6.jpg" alt="html5 bootstrap template by colorlib.com"><br>
									<h2>Hardware Design </h2>
									<p>Full Duplex System: Sending and Reciving Data over 4 wires </p>
									<p>Full Duplex means that data can pass simultaneously both to and from the nstruments. This requires 4 wires - one pair to Transmit and one pair to Receive. The computer alone controls the TX transmit line. t sends out a message which includes an Address. The addressed instrument alone replies by driving the RX line. </p>
									<img class="img-responsive" src="images/modbus7.jpg" alt="html5 bootstrap template by colorlib.com"><br>
									<p>HALF DUPLEX SYSTEM:Sending and Reciving Data over 2 Wires </p>
									<p>
										Half Duplex means that data can only pass in one direction at a time. n this arrangement both TX and RX signals share a single pair of wires. This can save in installation costs.
										The computer drives the lines to send out its request message but must turn ts driver off to allow the instrument to reply. This s the tricky bit. Many RS232-to-RS485 converters recruit the RTS line of the serial port to switch the RS485 driver On and Off. However Windows has never made more than a half hearted attempt to support such an arrangement.
										The multi-tasking nature of Windows means that t s always difficult to make actions occur at exact times - n this case there can be a significant delay between the request being sent out and the driver being switched off. if the instrument starts its reply before the switch-off then the start of the reply will be missed. instrument manufacturers are forced to find their own solutions to this problem. This may include special software, special hardware or both.
										In recent years most Serial Ports have been implemented as USB-to-Serial arrangements. These units always include a microprocessor and this can perform the task of controlling the RS485 driver very well. f you need to implement a 2-wire RS485 system you should always obtain a USB-to-RS485 converter that advertises this special feature. An example type that we use s Moxa 1130. This unit automatically switches off the driver when there is no more data to send. Such a unit can work with general purpose software such as ComDebug or HyperTerminal. Be aware though that t may not work with the special software supplied by instrument manufacturers which may assume a particular RS232- to-RS485 converter and may produce errors when used with any other unit.
									</p>
									<img class="img-responsive" src="images/modbus8.jpg" alt="html5 bootstrap template by colorlib.com"><br>
									<img class="img-responsive" src="images/modbus9.jpg" alt="html5 bootstrap template by colorlib.com"><br>
									<p>Its Half Duplex Connection in which one master Arduino controls other slave arduinos.  </p>
									<h2>Code</h2>
									<p>Master code:</p>
									<p>
										int Enable = 2;  int Slave1 = 3; int Slave2 = 4; void setup()  {
										Serial.begin(9600);   pinMode(Enable,OUTPUT);    pinMode(Slave1,INPUT);   pinMode(Slave2,INPUT);   digitalWrite(Enable,LOW);
										}

										void loop()  {   int S1=digitalRead(Slave1);   int S2=digitalRead(Slave2);   int distance;   int temperature;   f(S1==HIGH)
										{
										digitalWrite(Enable,HIGH);     delay(5);     Serial.println("A");     Serial.flush();     digitalWrite(Enable,LOW);       while(Serial.available())
										{
										distance=Serial.parseInt();         Serial.print("Distance from Slave1 =");         Serial.println(distance);
										}
										}
										f(S2==HIGH)
										{
										digitalWrite(Enable,HIGH);     delay(5);     Serial.println("B");     Serial.flush();     digitalWrite(Enable,LOW);       while(Serial.available())
										{
										temperature=Serial.parseInt();         Serial.print("Humidity from Slave2 =");
										Serial.println(temperature);
										}
										}
										digitalWrite(Enable,LOW);   delay(1000);
										}

									</p>
									<p>Slave 1 code : </p>
									<p>
										int Enable = 2; #define trigPin 3 #define echoPin 4 void setup()  {
										Serial.begin(9600);   pinMode(Enable,OUTPUT);    pinMode(trigPin, OUTPUT);   pinMode(echoPin, NPUT);   digitalWrite(Enable,LOW);
										}

										void loop()  {   long duration, distance;   //digitalWrite(Enable,LOW);   while((Serial.available())&&(Serial.read()=='A'))
										{
										Serial.println("Received order from master");         digitalWrite(trigPin, LOW);         delayMicroseconds(2);          digitalWrite(trigPin, HIGH);         delayMicroseconds(10);         digitalWrite(trigPin, LOW);         duration = pulseIn(echoPin, HIGH);         distance = duration*0.034/2;       digitalWrite(Enable,HIGH);       delay(5);       Serial.println(distance);       Serial.flush();     digitalWrite(Enable,LOW);
										}
										}
									</p>
									<p>Slave 2: </p>
									<p>
										#include <DHT.h>
											#include <DHT_U.h>
												nt Enable = 2;  #define DHTPIN 3
												#define DHTTYPE DHT11
												DHT dht(DHTPIN, DHTTYPE);
												void setup()
												{
												Serial.begin(9600);   pinMode(Enable,OUTPUT);    digitalWrite(Enable,LOW);   dht.begin();
												}

												void loop()  {   digitalWrite(Enable,LOW);   while((Serial.available())&&(Serial.read()=='B'))
												{
												Serial.println("Received order from master");

												float h = dht.readHumidity();       float t = dht.readTemperature();       float f = dht.readTemperature(true);       f (isnan(h) || snan(t) || snan(f))
												{
												Serial.println(F("Failed to read from DHT sensor!"));         return;
												}

												digitalWrite(Enable,HIGH);       delay(5);      // Serial.print(h);
												Serial.println(t);
												// Serial.print(f);
												Serial.flush();
												digitalWrite(Enable,LOW);
												}
												}
									</p>
									<h2>Results</h2>
									<img class="img-responsive" src="images/modbus10.jpg" alt="html5 bootstrap template by colorlib.com"><br>
																																		 <p>
																																		 	This Simuation is performed on Arduino DE serial port and using above code.
																																		 	On the left side serial port screen shows master side and on the right side it’s shows 2slave master side.
																																		 </p>
								</div>
							</div>
						</div>
					</div>
				</div>
			</div>
		</div>

		<footer>
			<div id="footer">
				<div class="container">
					<div class="row">
						<div class="col-md-4 col-pb-sm">
							<div class="row">
								<div class="col-md-10">
									<h2>Let's Talk</h2>
									<p><a href="https://mail.google.com/mail/u/2/#inbox?compose=CllgCJNwfTrsdvXXwqcdKVlbFNSsLZHjXrLflnLkpJBPbTfhXbdbTBhSshhWLPVnKrqZtvhQmxV">ahiraditya31@gmail.com</a></p>
									<p class="colorlib-social-icons">
										<a href="https://www.facebook.com/ahiraditya.ahiraditya.3"><i class="icon-facebook4"></i></a>
										<a href="https://www.linkedin.com/in/aditya-ahir-90a35a153/"><i class="icon-linkedin3"></i></a>
										<a href="https://www.instagram.com/ahir.aditya/"><i class="icon-instagram2"></i></a>
										<a href="https://twitter.com/AhirAditya1"><i class="icon-twitter3"></i></a>

									</p>
								</div>
							</div>
						</div>
						</div>
				</div>
			</div>
		</footer>
	
	</div>

	<!-- jQuery -->
	<script src="js/jquery.min.js"></script>
	<!-- jQuery Easing -->
	<script src="js/jquery.easing.1.3.js"></script>
	<!-- Bootstrap -->
	<script src="js/bootstrap.min.js"></script>
	<!-- Waypoints -->
	<script src="js/jquery.waypoints.min.js"></script>
	<!-- Owl Carousel -->
	<script src="js/owl.carousel.min.js"></script>
	<!-- Magnific Popup -->
	<script src="js/jquery.magnific-popup.min.js"></script>
	<script src="js/magnific-popup-options.js"></script>

	<!-- Main JS (Do not remove) -->
	<script src="js/main.js"></script>

	</body>
</html>

